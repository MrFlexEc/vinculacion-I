<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usuario </title>
     <!-- LIBRERIAS Y SCRIPT QUE SERAN USADOS PARA COMBO BOX Y POST --> 
     <link rel="icon" type="image/x-icon" href="https://i.ibb.co/Ytrg4r9/Monograma-Logotipo-belleza-blanco-y-negro.png" >
     <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <style>
        a {
            text-decoration: none;
        }
    </style>
    
</head>
<body style="background-color: #C2D7DB; display: flex; flex-direction: column; min-height: 100vh;">
    
    

    <% if (login){ %> 
        <% if (admin) { %>
            <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> 
            <% if (typeof alert != "undefined") { %>
                <script>
                    Swal.fire({
                    title: '<%= alertTitle %>',
                    text:'<%= alertMessage %>',
                    icon: '<%= alertIcon %>',
                    showConfirmButton:<%= showConfirmButton %>,
                    timer:<%= timer %>
                    }).then(()=>{
                        window.location='./<%= ruta %>'
                    })
                </script>
            <% }; %>
            <% } else { }; %>
    <!-- Aqui ya te la sabes --> 

    <nav class="navbar sticky-top " style="background-color:#385277 ;color: #a3c1d5;" >  
        <div class="container-fluid ">
            <div class="navbar-toggler-icon  z-1"><div class="px-5 z3">CREAR_USUARIO</div> </div> <!--icono-->
                <img src="https://i.ibb.co/YBVfJJ8/Monograma-Logotipo-belleza-blanco-y-negro-removebg-preview.png" style=" margin-top: 77px;margin-left: 77%; ; max-width: 11rem; position: absolute;">
                <div class="d-flex justify-content-end "> 
                    <input class="text-center" type="date" id="fecha" name="fecha" value="" readonly>
                </div>
            </div>
            

        </div>
        
        <script>
            // Obtener la fecha actual
            var fechaActual = new Date();
            
            // Formatear la fecha para el valor del input
            var dd = String(fechaActual.getDate()).padStart(2, '0');
            var mm = String(fechaActual.getMonth() + 1).padStart(2, '0');
            var yyyy = fechaActual.getFullYear();
            var fechaFormateada = yyyy + '-' + mm + '-' + dd;
            
            // Asignar la fecha formateada al valor del input
            document.getElementById("fecha").value = fechaFormateada;
          </script>

      </div>
        
        <div class="d-flex justify-content-around" style="background-color: #385277;">
          <!--NAVEGACION -->
          <div class="p-3"> <a href="#seccionObservar" style="text-decoration: none; color: #a3c1d5;">Observar</a></div>
          <div class="p-3"> <a href="inventario" style="text-decoration: none; color: #a3c1d5;">Inventario</a></div>
          <div class="p-3"> <a href="crearRegistro" style="text-decoration: none; color: #a3c1d5;">Registrar</a></div>
          <div class="p-3"> <a href="crearProveedor" style="text-decoration: none; color: #a3c1d5;">Proveedor</a></div>
          <div class="p-3"> <a href="crearUsuario" style="text-decoration: none; color: #a3c1d5;">Usuario</a></div>
          <div class="p-3">
              <li class="list-unstyled nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Historial
                </a>
                <ul class="dropdown-menu  "> 
                  <li> <a class="dropdown-item" href="Historial-Egreso">Egreso Historial</a></li>
                  <li> <a class="dropdown-item" href="Historial-Ingreso">Ingreso Historial</a></li>
                </ul>
              </li>
          </div>
         
        
        </div>
        <div class="px-4">
              <div class="d-flex justify-content-end px-4"> 
                
              </div>
        </div>
    </nav>
    
    <form action="/insertarUsuario" method="POST">
         <!-- Estructura  --> 
    <div class="container ">
        <div class="row ">
            <div class="col-12 py-4 d-flex justify-content-center">
                <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 d-flex justify-content-center ">
                    <div class="container d-flex justify-content-center">
                        <div class="row ">
                            <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12  col-xxl-12  ">
                                <div class="justify-content-start fs-4 " style="color: #385277; ">
                                    <!-- inputs--> 
                                        Nombre de Usuario
                                        <div class="opacity-75">
                                            <input type="text" name="nombreUsuario" class="form-control rounded-4 border-2" style="background-color: #99B3D8; color: black; border-color: #385277;">
                                        </div>

                                        Correo Electronico
                                        <div class="opacity-75">
                                            <input type="email" name="correoUsuario" class="form-control rounded-4 border-2" style="background-color: #99B3D8; color: black; border-color: #385277;">
                                        </div>
                                        Contraseña 
                                    <div class="opacity-75">
                                        <input type="password" name="ContraseniaUsuario" class="form-control rounded-4 border-2" style="background-color: #99B3D8; color: black; border-color: #385277;">
                                    </div>
                                    <!--
                                    Fecha de Creacion
                                    <div class="opacity-75">
                                        <input type="text" name="descripcionRegistro" class="form-control rounded-4 border-2" style="background-color: #99B3D8; color: black; border-color: #385277;">
                                    </div>-->

                                    <style>
                                        /* Aqui se cambia el fondo de el cuadro de busqueda donde se escribe y el color del texto*/
                                        .select2-container .select2-search input {
                                        background-color: #99B3D8;
                                        color: black;

                                        
                                    }
                                        /* Aqui se cambia el fondo de el cuadro antes de desplegarse y el color de texto de este*/
                                        .select2-selection__rendered {
                                        background-color: #99B3D8;
                                        padding-top: 8px;
                                        border-radius: 5px;
                                        text-align: center;
                                        /* Color y tamaño del borde del combo box*/
                                        border: 2px solid #385277;

                                    }

                                    /* Se cambia el color del texto en las opciones desplegadas y el color de fondo de este*/
                                    .select2-results__option {
                                         color: black;
                                         background-color: #99B3D8;
                                        }   
     


                                    </style>
                                    <div  class="py-1" >Rol</div>  

                                    <div class="btn-group form-control " style="background-color: #C2D7DB; border:none ; position: relative; bottom: 14px;">
                                        <select id="miSelect" name="rolUsuario" class=" btn ">
                                            <option disabled selected>Seleccione..</option>
                                            <% Rol?.forEach((rol) =>{ %>  
                                                <% id_rol= rol.IDROL %>
                                                <% nombre_rol= rol.NOMBREROL %> 
                                            
                                            <option value="<%= id_rol %>" style="color: #707070;"><%= nombre_rol%></option>

                                            <% }); %> 


                                        </select>
                                        
                                    </div> 
                                </div>
                                
        
                            </div>
                            <div class="row d-flex justify-content-center">
                                <div class="col-6- col-md-3 col-lg-3 col-xl-3 pt-2  pt-2">
                                    <button type="submit" class="btn rounded-5 border-3 form-control pt-4 pb-4" style="background-color: #81C79F; border-color: #707070;" >CREAR</button>
    
                                </div>
                                <div class="col-6-12 col-md-3 col-lg-3 col-xl-3 pt-2 "> 
                                        <button type="button" class="btn rounded-5 border-3 form-control pt-4 pb-4" style=" background-color: #D64C6D; color:white; border-color: #707070;" ><a href="home" ><FONT COLOR="black">CANCELAR </FONT></a></button>
                                </div> 

                            </div>
                             
                          

                            <!-- input de espaciado --> 
                            
                            
                            
                        </div>
                    </div>
                </div>
            </div>

            
            
           <script>
            $(document).ready(function() {
                $('#miSelect').select2();
             

            });
           </script>


            </div>

            
        </div>
        
    </div>
</form>  
    <!-- SIMPLEMENTE ICONO PARA HOME -->  
    <footer class="p-3  z-3 " style="background-color:#385277 ; margin-top: auto;  ">
            <a href="/home">
            <label style="color: white;">HOME</label><img src="https://i.ibb.co/QF1WGmT/casa-1.png" style="height: 2rem; ">
            </a>
    </footer> 
    <!-- algunos scripts que seran necesarios para combo box  -->  
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"  crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS" crossorigin="anonymous"></script>
    <% } else { %>

        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
          
        <% if (bienUsuario) { %>
            <% if (typeof alert != "undefined") { %>
                <script>
                    Swal.fire({
                    title: '<%= alertTitle %>',
                    text:'<%= alertMessage %>',
                    icon: '<%= alertIcon %>',
                    showConfirmButton:<%= showConfirmButton %>,
                    timer:<%= timer %>
                    }).then(()=>{
                        window.location='./<%= ruta %>'
                    })
                </script>
            <% }; %>
            <% } else { %>
                <% if (typeof alert != "undefined") { %>
                    <script>
                        Swal.fire({
                        title: '<%= alertTitle %>',
                        text:'<%= alertMessage %>',
                        icon: '<%= alertIcon %>',
                        showConfirmButton:<%= showConfirmButton %>,
                        timer:<%= timer %>
                        }).then(()=>{
                            window.history.go(-1)
                        })
                    </script>
                <% }; %>
                <% } %>   
        <% } %>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS" crossorigin="anonymous"></script>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"  crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js" integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
</body>
</html>

